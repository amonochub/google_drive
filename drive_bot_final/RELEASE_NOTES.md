# üöÄ Release: Google Drive Smart Uploader Bot (Production)

## –ö—Ä–∞—Ç–∫–æ

**Google Drive Smart Uploader Bot** ‚Äî production-ready Telegram-–±–æ—Ç –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ Google Drive.  
–í —Ä–µ–ª–∏–∑–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ best practices: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ—Å—Ç—ã, Docker, FSM, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google API, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π UX –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (batch, ZIP, CSV)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤** (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞—Ç, –∫–∏—Ä–∏–ª–ª–∏—Ü—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤)
- **FSM wizard** –¥–ª—è —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **OCR –∏ NER**: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ PDF, DOCX, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Drive API** (OAuth2, refresh token, –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏)
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, Celery, Redis**
- **CBR –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (structlog + orjson)
- **Docker Compose**: healthcheck, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, production-ready –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** (pytest, edge-cases, FSM, upload, OCR, validate)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env, –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –∏ client_secrets.json –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ git

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/amonochub/google_drive.git
cd google_drive/drive_bot_final

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up --build

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
python3.11 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env  # –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
python -m app.main
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `TELEGRAM_TOKEN`
- `GOOGLE_CLIENT_ID`
- `GOOGLE_CLIENT_SECRET`
- `GOOGLE_REFRESH_TOKEN`
- `GOOGLE_DRIVE_ROOT_FOLDER`
- `REDIS_DSN`
- `MAX_FILE_SIZE_MB`, `HEAVY_PDF_MB`, `CACHE_TTL`

---

## –¢–µ—Å—Ç—ã

```bash
pytest --disable-warnings -v
```
–ü–æ–∫—Ä—ã—Ç–∏–µ: upload, batch, FSM, OCR, validate, edge-cases.

---

## –í–∞–∂–Ω–æ

- **client_secrets.json** –∏ –¥—Ä—É–≥–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ git ‚Äî —Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ CI/CD.
- –í—Å–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å `restart: unless-stopped` –≤ docker-compose.yml.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- [amonochub](https://github.com/amonochub)
- Issues/PR –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

---

**–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∫–ª–∞–¥ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ! –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é üöÄ** 