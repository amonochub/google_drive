<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>{{ title if title else "School Bot Demo" }}</title>
  <link rel="icon" type="image/png" href="/static/favicon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/branding.css" rel="stylesheet">
  <script>
    // Тёмная тема: сохраняем выбор в localStorage
    function toggleTheme() {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : '');
    }
    window.onload = function() {
      if(localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
    }
  </script>
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <img src="/static/logo.png" class="logo" alt="School Logo">
    <span class="navbar-brand">SchoolBot Demo</span>
    {% if user %}
      <span class="text-white">Вы: {{ user.login }} ({{ roles[user.role] }})</span>
    {% endif %}
    <span class="theme-toggle text-white" onclick="toggleTheme()" title="Тёмная тема">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M6 0a.5.5 0 0 1 .5.5V2a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 6 0zm3.364 1.05a.5.5 0 0 1 .707 0l1.06 1.06a.5.5 0 1 1-.707.708l-1.06-1.06a.5.5 0 0 1 0-.708zM16 6a.5.5 0 0 1-.5.5H14a.5.5 0 0 1 0-1h1.5A.5.5 0 0 1 16 6zM2 6.5A.5.5 0 0 1 1.5 6H0a.5.5 0 0 1 0-1h1.5A.5.5 0 0 1 2 6.5zm11.364 7.364a.5.5 0 0 1-.707 0l-1.06-1.06a.5.5 0 1 1 .707-.708l1.06 1.06a.5.5 0 0 1 0 .708zM6 14a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-1.5A.5.5 0 0 1 6 14zm-4.95-2.364a.5.5 0 0 1 0-.707l1.06-1.06a.5.5 0 1 1 .708.707l-1.06 1.06a.5.5 0 0 1-.708 0zM14 8a6 6 0 1 1-12 0 6 6 0 0 1 12 0z"/></svg>
    </span>
  </div>
</nav>
<div class="container py-4">
  {% block content %}{% endblock %}
</div>
</body>
</html> 